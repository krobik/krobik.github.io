{"version":3,"sources":["components/Header/index.ts","components/Header/Header.tsx","components/Footer/index.ts","components/Footer/Footer.tsx","components/NotFound/index.ts","components/NotFound/NotFound.tsx","components/Loader/index.ts","components/Loader/Loader.tsx","constants/constants.js","actions/getData.js","routes/baseRoutes.js","routes/index.js","components/App/App.tsx","components/App/index.ts","reducers/index.js","service/openDataDB.js","sagas/sagaLoadData.js","store/configureStore.js","index.tsx"],"names":["Header","span","offset","to","HomeOutlined","style","fontSize","marginRight","className","Footer","href","NotFound","Loader","size","SAVE_REQUEST","SEND_REQUEST","saveRequestData","data","type","payload","baseRoutes","name","path","component","React","lazy","exact","allRoutes","Content","Layout","App","dispatch","useDispatch","useEffect","fallback","height","routes","map","index","props","initialState","openDataDB","_apiBase","getData","a","fetch","headers","mode","api_call","json","response","workerLoadData","watchLoadData","opendata","put","console","log","takeEvery","sagaMiddleware","createSagaMiddleware","middleware","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","store","createStore","state","action","compose","run","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a0c2b6ba.chunk.js","sourcesContent":["import Header from './Header'\r\n\r\nexport default Header","import { Link } from 'react-router-dom'\r\nimport { Header as HeaderAntd } from 'antd/lib/layout/layout'\r\nimport { HomeOutlined } from '@ant-design/icons'\r\nimport { Row, Col } from 'antd'\r\nimport './Header.css'\r\n\r\nconst Header: React.FC = () => {\r\n    return (\r\n        <HeaderAntd>\r\n            <Row>\r\n                <Col span={16} offset={4}>\r\n                    <Link to=\"/\">\r\n                        <HomeOutlined style={{ fontSize: '28px', marginRight: \"10px\" }} />\r\n                    </Link>\r\n                    <span className=\"header__title\">Библиотеки. Статистическая информация</span>\r\n                </Col>\r\n            </Row>\r\n        </HeaderAntd>\r\n    )\r\n}\r\n\r\nexport default Header","import Footer from './Footer'\r\n\r\nexport default Footer","import { Footer as FooterAntd } from 'antd/lib/layout/layout'\r\nimport './Footer.css'\r\n\r\nconst Footer: React.FC = () => {\r\n    return (\r\n        <FooterAntd className=\"footer\">\r\n            <div className=\"fooner__inner\">\r\n                <span className=\"footer__desc\">Тестовое задание 2021</span>\r\n                <a href=\"https://github.com/krobik\">GitHub</a>\r\n            </div>\r\n        </FooterAntd>\r\n    )\r\n}\r\n\r\nexport default Footer","import NotFound from './NotFound'\r\n\r\nexport default NotFound","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './NotFound.css'\r\n\r\nconst NotFound: React.FC = () => {\r\n    return (\r\n        <div className=\"not-found\">\r\n            <span className=\"not-found__title\">404</span>\r\n            <Link to=\"/\">\r\n                <span className=\"not-found__desc\">Вернуться на главную</span>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound","import Loader from './Loader'\r\n\r\nexport default Loader","import { Spin } from 'antd'\r\nimport './Loader.css'\r\n\r\nconst Loader: React.FC = () => {\r\n    return (\r\n        <div className=\"loader-wrap\">\r\n            <Spin size=\"large\" />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader","export const SAVE_REQUEST = 'SAVE_REQUEST'\r\nexport const SEND_REQUEST = 'SEND_REQUEST'","import { SEND_REQUEST, SAVE_REQUEST } from '../constants/constants.js'\r\n\r\n\r\nexport function getData(data) {\r\n    return {\r\n        type: SEND_REQUEST,\r\n        payload: data,\r\n    }\r\n}\r\n\r\nexport function saveRequestData(data) {\r\n    return {\r\n        type: SAVE_REQUEST,\r\n        payload: data,\r\n    }\r\n}","import React from 'react'\r\n\r\nconst baseRoutes = [\r\n    {\r\n        name: 'main',\r\n        path: '/',\r\n        component: React.lazy(() => import(/* webpackPreload: true */'../views/home')),\r\n        exact: true,\r\n    },\r\n    {\r\n        name: 'card',\r\n        path: '/library/:id',\r\n        component: React.lazy(() => import(/* webpackPreload: true */'../views/libraryDetail'))\r\n    },\r\n]\r\n\r\nexport default baseRoutes","import baseRoutes from './baseRoutes'\r\n\r\nconst allRoutes = [...baseRoutes]\r\n\r\nexport default allRoutes","import { useEffect, Suspense } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport { Layout, Row, Col } from 'antd'\r\n\r\nimport Header from '../Header'\r\nimport Footer from '../Footer'\r\nimport NotFound from '../NotFound'\r\nimport Loader from '../Loader'\r\nimport { getData } from '../../actions/getData'\r\nimport routes from '../../routes'\r\n\r\nconst { Content } = Layout\r\n\r\nconst App = () => {\r\n\tconst dispatch = useDispatch()\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(getData())\r\n\t}, [dispatch])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Header />\r\n\r\n\t\t\t<div className=\"content\">\r\n\t\t\t\t<Suspense fallback={<Loader />}>\r\n\t\t\t\t\t<Layout style={{ height: \"100%\" }}>\r\n\t\t\t\t\t\t<Row style={{ height: \"100%\" }}>\r\n\t\t\t\t\t\t\t<Col span={16} offset={4}>\r\n\t\t\t\t\t\t\t\t<Content style={{ height: \"100%\" }} >\r\n\r\n\t\t\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t\t\t{routes.map(({ ...props }, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <Route key={index} {...props} />\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t<Route component={NotFound} />\r\n\t\t\t\t\t\t\t\t\t</Switch>\r\n\r\n\t\t\t\t\t\t\t\t</Content>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Layout>\r\n\t\t\t\t</Suspense>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Footer />\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default App","import App from './App'\r\n\r\nexport default App","import { SAVE_REQUEST } from '../constants/constants.js'\r\n\r\nconst initialState = {\r\n    data: [],\r\n}\r\n\r\nexport function rootReducer(state = initialState, action){\r\n    switch (action.type) {\r\n        case SAVE_REQUEST:\r\n            return { ...state, data: [...action.payload] }\r\n        default:\r\n            return state\r\n    }\r\n}","export default class openDataDB {\r\n    _apiBase = 'https://data.gov.ru/sites/default/files/opendata/7705851331-stat_library/data-2016-11-10T00-00-00-structure-2016-09-12T00-00-00.json'\r\n\r\n    //'/opendata/7705851331-stat_library/data-2016-11-10T00-00-00-structure-2016-09-12T00-00-00.json'\r\n\r\n    getData = async () => {\r\n        const api_call = await fetch(`${this._apiBase}`, {\r\n            headers: {\r\n                mode: \"no-cors\", \r\n            }\r\n        })\r\n        const response = await api_call.json()\r\n        return response\r\n    }\r\n}","import { takeEvery, put } from 'redux-saga/effects'\r\nimport { saveRequestData } from '../actions/getData'\r\nimport { SEND_REQUEST } from '../constants/constants.js'\r\nimport openDataDB from '../service/openDataDB'\r\n\r\n\r\nfunction* workerLoadData() {\r\n    const opendata = new openDataDB()\r\n\r\n    try {\r\n        let data = yield opendata.getData()\r\n\r\n        yield put(saveRequestData(data))\r\n    } catch (err) {\r\n        console.log('error', err)\r\n        //const data = err.response.data\r\n\r\n        /* if (data && data.errors) {\r\n            setError({ message: Object.values(data.errors)[0][0] })\r\n        } else {\r\n            setError(true)\r\n        } */\r\n    }\r\n}\r\n\r\n\r\nexport function* watchLoadData() {\r\n    yield takeEvery(SEND_REQUEST, workerLoadData)\r\n}","import { createStore, compose, applyMiddleware } from 'redux'\r\nimport createSagaMiddleware from 'redux-saga'\r\nimport { rootReducer } from '../reducers'\r\nimport { watchLoadData } from '../sagas/sagaLoadData'\r\n\r\nconst sagaMiddleware = createSagaMiddleware()\r\n\r\nconst middleware = [\r\n    applyMiddleware(sagaMiddleware),\r\n    ...(window.__REDUX_DEVTOOLS_EXTENSION__ ? [window.__REDUX_DEVTOOLS_EXTENSION__()] : [])\r\n]\r\n\r\nexport const store = createStore(rootReducer, compose(...middleware))\r\n\r\nsagaMiddleware.run(watchLoadData)","import ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport App from './components/App'\nimport { store } from './store/configureStore'\nimport './index.css'\n\nReactDOM.render(\n    <Provider store={store}>\n        <Router>\n            <App />\n        </Router>\n    </Provider>, document.getElementById('root')\n)"],"sourceRoot":""}